<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <style type="text/css">
        @import url(../css/background-large_form.css);
        @import url(../css/small_form.css);
        @import url(../lib/bootstrap-4.5.1/css/bootstrap.min.css);
    </style>
    <script type="application/javascript" src="../lib/jQuery-3.5.1/jquery-3.5.1.min.js"></script>
    <script type="application/javascript" src="../lib/popper-2.4.3/popper.min.js"></script>
    <script type="application/javascript" src="../lib/bootstrap-4.5.1/js/bootstrap.min.js"></script>
    <script type="application/javascript" src="../lib/angularJS-1.8.0/angular.min.js"></script>
    <script type="application/javascript" src="../lib/angularJS-1.8.0/angular-messages.min.js"></script>
    <link href="../images/favicon.ico" rel="icon" type="image/x-icon">
    <title>Verify `by Louay Amr`</title>
<body>
<header>
    <nav class="navbar navbar-dark navbar-expand-md fixed-top shadow" style="background-color: #3e3c4e ;">
        <a class="navbar-brand font-weight-bold" href="">Course MS</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarUserAccount"
                aria-controls="navbarUserAccount" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse ml-5" id="navbarUserAccount">
            <ul class="navbar-nav">
                <li class="nav-item ml-4">
                    <a class="nav-link font-weight-bold" href="">Home</a>
                </li>
                <li class="nav-item ml-4">
                    <a class="nav-link font-weight-bold" href="">Course</a>
                </li>
                <li class="nav-item dropdown ml-4">
                    <a class="nav-link dropdown-toggle" href="#" id="inboxDropdown" role="button" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        Inbox<span class="badge badge-primary badge-pill"></span>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="inboxDropdown">
                        <a class="dropdown-item" href="">
                            <img src="../images/person-black-48dp.svg" width="24" height="24">
                            Request <span class="badge badge-primary badge-pill"></span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="">
                            <img src="../images/email-black-48dp.svg" width="24" height="24">
                            Message <span class="badge badge-primary badge-pill"></span>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="accountUserDropdown" role="button" data-toggle="dropdown"
               aria-haspopup="true" aria-expanded="false">
                <img src="../images/account_circle-white-48dp.svg" class="rounded-circle" width="72" height="72"/>
            </a>
            <div class="dropdown-menu" aria-labelledby="accountUserDropdown">
                <button class="dropdown-item text-left" id="dropdownProfile" data-toggle="modal"
                        data-target="#profileModal">Profile
                </button>
                <form action="" method="post">
                    <input class="dropdown-item text-left" type="submit" value="Logout">
                </form>
            </div>
        </div>
    </nav>
</header>
<main class="container-fluid" style="padding-top: 7em;">
    <div class="row row-cols-md-2">

        <aside class="col-md-2">
            <div class="form-row">
                <img src="" class="rounded-circle" width="134" height="134"/>
                <p class="mt-5 ml-1 font-weight-bold h5">
                </p>
            </div>
            <hr>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="">
                    <img src="../client/img/send-black-48dp.svg" width="24" height="24">
                    <p class="ml-3">Messages Sent</p>
                </a>
            </div>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="../client/request-user-sent.jsp">
                    <img src="../client/img/how_to_reg-black-48dp.svg" width="24" height="24">
                    <p class="ml-3">Request Sent</p>
                </a>
            </div>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="../group/group-control.jsp">
                    <img src="../client/img/group-black-48dp.svg" width="24" height="24">
                    <p class="ml-3">My Group</p>
                </a>
            </div>
            <hr>
            <div class="form-text text-muted font-weight-bold ml-2">
                <p>Explore</p>
            </div>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="../client/gallery.jsp">
                    <img src="../client/img/photo_library-black-48dp.svg" width="24" height="24">
                    <p class="ml-3">My Photo Album</p>
                </a>
            </div>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="../client/request-user-receive.jsp">
                    <img src="../client/img/person_add-black-48dp.svg" width="24" height="24">
                    <p class="ml-3">Request Receive</p>
                </a>
            </div>
            <div class="form-row">
                <a class="btn btn-toolbar btn-link" href="../client/message-receive.jsp">
                    <img class="mt-2" src="../client/img/email-black-48dp.svg" width="24" height="24">
                    <p class="ml-3 mt-2">Message Receive</p>
                </a>
            </div>
        </aside>

        <article class="col-md-9 offset-md-1">

            <section class="container-fluid">
                <div class="card">
                    <div class="card-header">
                        <div class="btn-group btn-toolbar">
                            <button type="button" class="btn btn-outline-info " id="inputStringPost"><img
                                    src="../client/img/post_add-black-48dp.svg" class="mb-1" width="30"
                                    height="30"/>
                                Creat Post
                            </button>
                            <button type="button" class="btn btn-outline-info " id="inputImg"><img
                                    src="../client/img/photo_size_select_actual-black-48dp.svg" class="mb-1"
                                    width="30"
                                    height="30"/>
                                Photo
                            </button>
                        </div>
                    </div>
                    <div class="card-body" id="addPost" hidden></div>
                </div>
            </section>

            <jsp:include page="/GetUserCirclePost"></jsp:include>
            <c:forEach items="${userCirclePost}" var="post">
                <section class="col-md-12 mt-3">
                    <div class="card">
                        <c:if test="${post.getClassName() eq 'ACCOUNT_IMG_POST' or post.getClassName() eq 'ACCOUNT_TEX_POST'}">
                            <div class="card-header col-md-12">
                                <div class="row row-cols-md-2">
                                    <div class="col-md-8">
                                        <div class="row">
                                            <form action="../client/review-account.jsp" method="get">
                                                <input type="text" value="${post.getUser().getUsername()}" name="strange"
                                                       hidden
                                                       readonly>
                                                <input type="text" value="${post.getUser().getAccountType()}" name="type"
                                                       hidden
                                                       readonly>
                                                <button class="btn btn-link" type="submit">
                                                    <img src="data:image/png;base64,${post.getUser().getBase64()}"
                                                         width="32"
                                                         height="32"
                                                         class="rounded-circle">
                                                </button>
                                            </form>
                                            <p class="mt-2 text-muted">
                                                Posted by ${post.getUser().getFirstName()} ${post.getUser().getLastName()},
                                                At
                                                : ${post.getDatePost()}
                                            </p>
                                        </div>
                                    </div>


                                    <c:if test="${post.getUser().getUsername() eq username}">
                                        <div class="col-md-1 offset-md-3">
                                            <div class="dropdown dropleft">
                                                <div class="dropdown-toggle ml-4" data-toggle="dropdown">
                                                    <img src="../client/img/settings-black-48dp.svg" width="16" height="16">
                                                </div>
                                                <div class="dropdown-menu">
                                                    <form action="../DeleteUserPost" method="post">
                                                        <input type="text" value="${post.getIdPost()}" name="idPost" hidden
                                                               readonly>
                                                        <input type="text" value="${post.getClassName()}"
                                                               name="postClassName"
                                                               hidden readonly>
                                                        <input class="dropdown-item" type="submit" value="Delete">
                                                    </form>
                                                    <form action="../client/edit_post.jsp" method="get">
                                                        <input type="text" value="${post.getIdPost()}" name="idPost" hidden
                                                               readonly>
                                                        <input type="text" value="${post.getClassName()}"
                                                               name="postClassName"
                                                               hidden readonly>
                                                        <input class="dropdown-item" type="submit" value="Edit">
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </c:if>
                                </div>
                            </div>
                        </c:if>

                        <c:if test="${post.getClassName() eq 'GROUP_IMG_POST' or post.getClassName() eq 'GROUP_TEXT_POST'}">
                            <div class="card-header ">
                                <div class="col-md-12">
                                    <div class="row row-cols-md-3">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <form action="../client/review-account.jsp" method="get">
                                                    <input type="text" value="${post.getUser().getUsername()}"
                                                           name="strange" hidden
                                                           readonly>
                                                    <input type="text" value="${post.getUser().getAccountType()}"
                                                           name="type" hidden
                                                           readonly>
                                                    <button class="btn btn-link" type="submit">
                                                        <img src="data:image/png;base64,${post.getUser().getBase64()}"
                                                             width="32"
                                                             height="32"
                                                             class="rounded-circle">
                                                    </button>
                                                </form>
                                                <p class="text-muted mt-2">
                                                    Posted
                                                    by ${post.getUser().getFirstName()} ${post.getUser().getLastName()}, At
                                                    : ${post.getDatePost()}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="h2 text-info text-center">&nbsp; &Element;</div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="row">
                                                <form action="../client/review-account.jsp" method="get">
                                                    <input type="text" value="${post.getGroups().getIdGroup()}"
                                                           name="strange" hidden
                                                           readonly>
                                                    <input type="text" value="${post.getGroups().getAccountType()}"
                                                           name="type" hidden
                                                           readonly>
                                                    <button class="btn btn-link" type="submit">
                                                        <img src="data:image/png;base64,${post.getGroups().getBase64()}"
                                                             width="32"
                                                             height="32"
                                                             class="rounded-circle">
                                                    </button>
                                                </form>
                                                <p class="text-muted mt-2">
                                                    ${post.getGroups().getIdGroup()}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </c:if>


                        <div class="card-body">
                            <c:if test="${post.getType() eq 'TEXT_POST'}">
                                ${post.getPost()}
                            </c:if>
                            <c:if test="${post.getType() eq 'IMG_POST'}">
                                <img src="data:image/png;base64,${post.getBase64()}" class="card-img-top"/>
                            </c:if>
                        </div>


                    </div>
                </section>
            </c:forEach>


    </div>
    </article>
</main>
<footer>
    <nav class="navbar navbar-dark position-relative mt-0" style="background-color: #d3c7cd; height: 16em; width: 100%">
        <p>Louay Amr © 2020</p>
    </nav>
</footer>
</body>
</html>
