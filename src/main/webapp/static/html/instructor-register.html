<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <style type="text/css">
        @import url(/static/css/background-large_form.css);
        @import url(/static/lib/bootstrap-4.5.1/css/bootstrap.min.css);
    </style>
    <script type="application/javascript" src="/static/lib/jQuery-3.5.1/jquery-3.5.1.min.js"></script>
    <script type="application/javascript" src="/static/lib/popper-1.16.1/popper.min.js"></script>
    <script type="application/javascript" src="/static/lib/bootstrap-4.5.1/js/bootstrap.min.js"></script>
    <script type="application/javascript" src="/static/lib/angularJS-1.8.0/angular.min.js"></script>
    <script type="application/javascript" src="/static/lib/angularJS-1.8.0/angular-messages.min.js"></script>
    <script type="application/javascript" src="/static/lib/angularJS-1.8.0/angular-sanitize.min.js"></script>
    <script type="application/javascript" src="/static/js/app.js"></script>
    <script type="application/javascript" src="/static/js/control/instructor_sign_up-controller.js"></script>
    <script type="application/javascript" src="/static/js/service/country_state.js"></script>
    <script type="application/javascript" src="/static/js/service/register_instructor_submit.js"></script>
    <link href="/static/images/favicon.ico" rel="icon" type="image/x-icon">
    <title>Sign Up`by Louay Amr`</title>
</head>
<body ng-app="app" ng-controller="InstructorRegisterController">
<div ng-bind-html="errorRender"></div>
<header>
    <div class="jumbotron mb-0 h2 text-center">
        Course Management System
    </div>
    <nav class="navbar navbar-expand-md navbar-dark" style="background-color: #3e3c4e;">
        <p class="text-light text-capitalize h3">Instructor Sign Up</p>
    </nav>
</header>
<main>
    <div>
        <div class="mainBody">

            <div class="container" id="message" ng-model="submitSuccessMessage">
                <div ng-show="isSuccess">
                    <div class="alert alert-success alert-dismissible fade show">
                        <strong>Success!</strong> {{submitSuccessMessage}}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="container" id="passwordErrormessage" ng-model="submitErrorMessage">
                <div ng-show="isError">
                    <div class="alert alert-danger alert-dismissible fade show">
                        <strong>Error!</strong> {{submitErrorMessage}}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>

            <div id="errorMessage" ng-model="errorMessage" class="container" ng-hide="instructorRegisterForm.$valid"
                 role="alert">
                <div ng-messages="instructorRegisterForm.$error || instructorRegisterForm.$invalid"
                     ng-show="submitted && (instructorRegisterForm.$invalid || instructorRegisterForm.$error)">
                    <div class="alert alert-danger alert-dismissible fade show">
                        <strong>Error!</strong>
                        <span ng-show="instructorRegisterForm.email.$error.required">
                            Email Required!
                        </span>
                        <span ng-show="instructorRegisterForm.email.$invalid">
                            Email Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.password.$error.required">
                            Password Required!
                        </span>
                        <span ng-show="instructorRegisterForm.password.$invalid">
                            Password Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.rePassword.$error.required">
                            re-Password Required!
                        </span>
                        <span ng-show="instructorRegisterForm.rePassword.$invalid">
                            re-Password Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.profileVisibility.$error.required">
                            profileVisibility Required!
                        </span>
                        <span ng-show="instructorRegisterForm.nickname.$error.required">
                            nickname Required!
                        </span>
                        <span ng-show="instructorRegisterForm.nickname.$invalid">
                            nickname Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.forename.$error.required">
                            Forename Required!
                        </span>
                        <span ng-show="instructorRegisterForm.forename.$invalid">
                            Forename Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.surname.$error.required">
                            Surname Required!
                        </span>
                        <span ng-show="instructorRegisterForm.surname.$invalid">
                            Surname Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.gender.$error.required">
                            Gender Required!
                        </span>
                        <span ng-show="instructorRegisterForm.gender.$invalid">
                            Gender Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.birthday.$error.required">
                            Birthday Required!
                        </span>
                        <span ng-show="instructorRegisterForm.birthday.$invalid">
                            Birthday Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.phone.$error.required">
                            Phone Required!
                        </span>
                        <span ng-show="instructorRegisterForm.phone.$invalid">
                            Phone Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.country.$error.required">
                            Country Required!
                        </span>
                        <span ng-show="instructorRegisterForm.state.$invalid">
                            State Invalid!
                        </span>
                        <span ng-show="instructorRegisterForm.address.$error.required">
                            Address Required!
                        </span>
                        <span ng-show="instructorRegisterForm.address.$invalid">
                            Address Invalid!
                        </span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
            </div>
            <div ng-show="loading">
                <div class="modal modal-dialog-centered">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body text-center">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="formSignUp">

                <div class="internalForm">

                    <form ng-submit="saveInstructor()" name="instructorRegisterForm" method="post" novalidate>

                        <div class="formHead mb-0 pt-4">Sign Up to Course ms</div>
                        <small class="form-text text-muted text-left mb-3">all field required</small>

                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input class="form-control w-75" type="email" ng-model="instructor.email"
                                           ng-minlength="5" ng-maxlength="200" name="email"
                                           ng-class="{'is-invalid': submitted &&
                                           (instructorRegisterForm.email.$error.required || instructorRegisterForm.email.$invalid),
                                           'is-valid': instructorRegisterForm.email.$valid}"
                                           id="email" placeholder="Type your email" required/>
                                </div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputPassword">Password</label>
                                <input class="form-control w-75" type="password" ng-model="instructor.password"
                                       ng-minlength="8" ng-maxlength="100" required name="password"
                                       id="inputPassword" placeholder="Type your password"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.password.$error.required || instructorRegisterForm.password.$invalid),
                                       'is-valid': instructorRegisterForm.password.$valid}"/>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="reInputPassword">re-Password</label>
                                <input class="form-control w-75" type="password" ng-model="instructor.rePassword"
                                       ng-minlength="8" ng-maxlength="100" required name="rePassword"
                                       id="reInputPassword" placeholder="re-type your password"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.rePassword.$error.required || instructorRegisterForm.rePassword.$invalid),
                                       'is-valid': instructorRegisterForm.rePassword.$valid}"/>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputProfileVisibility">Profile Visibility</label>
                                <br>
                                <select class="custom-select w-75" ng-model="instructor.profileVisibility"
                                        id="inputProfileVisibility"
                                        name="profileVisibility" required
                                        ng-class="{'is-invalid': submitted &&
                                        (instructorRegisterForm.profileVisibility.$error.required || instructorRegisterForm.profileVisibility.$invalid),
                                        'is-valid': instructorRegisterForm.profileVisibility.$valid}">
                                    <option selected disabled value="">Choose...</option>
                                    <option value="PUBLIC">PUBLIC</option>
                                    <option value="PRIVATE">PRIVATE</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputNickname">Nickname</label>
                                <input class="form-control w-75" type="text" ng-model="instructor.nickname"
                                       ng-minlength="2" ng-maxlength="50" required name="nickname"
                                       id="inputNickname" placeholder="Type nickname"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.nickname.$error.required || instructorRegisterForm.nickname.$invalid),
                                       'is-valid': instructorRegisterForm.nickname.$valid}"/>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputForename">Forename</label>
                                <input class="form-control w-75" type="text" ng-model="instructor.forename"
                                       ng-minlength="2" ng-maxlength="50" required name="forename"
                                       id="inputForename" placeholder="Type your first name"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.forename.$error.required || instructorRegisterForm.forename.$invalid),
                                       'is-valid': instructorRegisterForm.forename.$valid}"/>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputSurname">Surname</label>
                                <input class="form-control w-75" type="text" ng-model="instructor.surname"
                                       ng-minlength="2" ng-maxlength="50" required name="surname"
                                       id="inputSurname" placeholder="Type your last name"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.surname.$error.required || instructorRegisterForm.surname.$invalid),
                                       'is-valid': instructorRegisterForm.surname.$valid}"/>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputGender">Gender</label>
                                <br>
                                <select class="custom-select w-75" ng-model="instructor.gender" id="inputGender"
                                        name="gender" required
                                        ng-class="{'is-invalid': submitted &&
                                        (instructorRegisterForm.gender.$error.required || instructorRegisterForm.gender.$invalid),
                                        'is-valid': instructorRegisterForm.gender.$valid}">
                                    <option selected disabled value="">Choose...</option>
                                    <option value="MALE">Male</option>
                                    <option value="FEMALE">Female</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputBirthday">Birthday</label>
                                <br>
                                <input class="form-control w-75" type="date" ng-model="instructor.birthday"
                                       id="inputBirthday" name="birthday" required
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.birthday.$error.required ||instructorRegisterForm.birthday.$invalid),
                                       'is-valid': instructorRegisterForm.birthday.$valid}"/>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputPhone">Phone</label>
                                <input class="form-control w-75" type="text" ng-model="instructor.phone"
                                       ng-minlength="10" ng-maxlength="20" required ng-pattern="/^\d+$/"
                                       id="inputPhone" placeholder="Type your phone number" name="phone"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.phone.$error.required || instructorRegisterForm.phone.$invalid),
                                       'is-valid': instructorRegisterForm.phone.$valid}"/>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputCountry">Country</label>
                                <br>
                                <select class="custom-select w-75" name="country" ng-model="instructor.country"
                                        id="inputCountry" required
                                        ng-class="{'is-invalid': submitted &&
                                        (instructorRegisterForm.country.$error.required || instructorRegisterForm.country.$invalid),
                                        'is-valid': instructorRegisterForm.country.$valid}">
                                    <option selected disabled value="">Select Country...</option>
                                    <option ng-repeat="countries in countryList" value="{{countries.name}}">
                                        {{countries.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputState">State</label>
                                <br>
                                <select class="custom-select w-75" ng-model="instructor.state" name="state"
                                        id="inputState" required
                                        ng-class="{'is-invalid': submitted &&
                                        (instructorRegisterForm.state.$error.required || instructorRegisterForm.state.$invalid),
                                        'is-valid': instructorRegisterForm.state.$valid}">
                                    <option selected disabled value="">Select State...</option>
                                    <option ng-repeat="states in stateList[instructor.country]" value='{{states.name}}'>
                                        {{states.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputAddress">Address</label>
                                <input class="form-control w-75" type="text" ng-model="instructor.address"
                                       ng-minlength="2" ng-maxlength="200" required name="address"
                                       id="inputAddress" placeholder="Type your Address"
                                       ng-class="{'is-invalid': submitted &&
                                       (instructorRegisterForm.address.$error.required || instructorRegisterForm.address.$invalid),
                                       'is-valid': instructorRegisterForm.address.$valid}"/>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6"></div>
                            <div class="form-group col-md-6">
                                <input class="btn btn-success w-50 p-2" type="submit" value="Sign Up "
                                       style="margin: 5% 20% 3%" ng-disabled=""/>
                            </div>
                        </div>

                    </form>

                </div>
            </div>
        </div>

    </div>
</main>
<footer style="bottom: 0; width: 100%;">
    <nav class="navbar navbar-dark mt-0" style="background-color: #d3c7cd; height: 16em; width: 100%">
        <p>Louay Amr Â© 2020</p>
    </nav>
</footer>
</body>
</html>
